# [1659C](https://codeforces.com/problemset/problem/1659/C)

## Problem 
`Math`
`Dp`
## Solution 

Create a prefix sum array `pr[i] = pr[i-1] + x[i]`
For each `[i, j]`, we calculate: 
    1. Movement cost: $ a \cdot (x_j - x_i) $
    2. Conquest cost: $b\cdot[(x_{i+1}-x_i)+(x_{i+2}-x_i)+\ldots+(x_j-x_i)] = b\cdot[p_j-p_i-(j-i)\cdot x_i]$

Let $x_{j_1}, x_{j_2}, \dots, x_{f}$ be capital postions over time 
Final cost is sum of:     

1. Movement cost: $a\cdot A$
$A = (x_{j_1} - x_0) + (x_{j_2} - x_{j_1})    + ... + (x_f - x_{f-1}) = x_f $ 

2. Conquest cost: $b(B - C)$
    $B =  (p_{j_1} - p_0) + (p_{j_2} - p_{j_1}) + \dots + (p_n - p_{j_f}) = p_n$
    $ C = \sum (j-i)\cdot x_i$


The task becomes minimizing C.
$C \le x_0 + x_1 + \dots + x_f + \dots + x_f = p_f + (n - f - 1) \cdot x_f$

[Implementation](../../codeforces/1659C.cpp)